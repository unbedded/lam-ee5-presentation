<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 500" width="400" height="500">
  <!-- Title -->
  <text x="200" y="25" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle">
    ARCH_SOL_ECO - Cam Mechanism Side View
  </text>
  <text x="200" y="45" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#666">
    Single Dot Assembly (Perpendicular Actuation)
  </text>

  <!-- Housing -->
  <rect x="100" y="120" width="200" height="280" fill="#E8E8E8" stroke="#333" stroke-width="2" rx="3"/>
  <text x="200" y="140" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#666">
    Character Housing (ABS)
  </text>

  <!-- User touch surface -->
  <line x1="80" y1="100" x2="320" y2="100" stroke="#333" stroke-width="3"/>
  <text x="340" y="105" font-family="Arial, sans-serif" font-size="9" fill="#666">
    User Surface
  </text>

  <!-- Braille dot (raised) -->
  <circle cx="200" cy="90" r="6" fill="#333" stroke="#000" stroke-width="1.5"/>
  <text x="220" y="95" font-family="Arial, sans-serif" font-size="9" fill="#333">
    Braille Dot (1.2mm dia)
  </text>

  <!-- Piston rod -->
  <rect x="194" y="96" width="12" height="80" fill="#AAA" stroke="#555" stroke-width="1.5"/>
  <text x="220" y="140" font-family="Arial, sans-serif" font-size="9" fill="#333">
    Piston (3mm × 18mm)
  </text>
  <text x="220" y="152" font-family="Arial, sans-serif" font-size="8" fill="#666">
    ABS, 0.7mm stroke
  </text>

  <!-- Compression spring -->
  <g id="spring">
    <line x1="200" y1="96" x2="200" y2="104" stroke="#888" stroke-width="2"/>
    <path d="M 200 104 L 195 108 L 205 112 L 195 116 L 205 120 L 195 124 L 205 128 L 200 132"
          fill="none" stroke="#888" stroke-width="2"/>
    <line x1="200" y1="132" x2="200" y2="140" stroke="#888" stroke-width="2"/>
  </g>
  <text x="175" y="120" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="end">
    Spring
  </text>
  <text x="175" y="130" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="end">
    (0.5N)
  </text>

  <!-- Linear bushing -->
  <rect x="186" y="170" width="28" height="35" fill="#CCC" stroke="#555" stroke-width="1.5" rx="2"/>
  <circle cx="200" cy="187.5" r="6" fill="#E8E8E8" stroke="#555" stroke-width="1"/>
  <text x="225" y="192" font-family="Arial, sans-serif" font-size="9" fill="#333">
    Bushing (5mm OD)
  </text>
  <text x="225" y="202" font-family="Arial, sans-serif" font-size="8" fill="#666">
    PTFE-POM, low friction
  </text>

  <!-- Cam disc (ECCENTRIC) -->
  <g id="cam-disc">
    <!-- Cam shaft (center of rotation) -->
    <circle cx="200" cy="260" r="4" fill="#333" stroke="#000" stroke-width="1.5"/>
    <text x="155" y="265" font-family="Arial, sans-serif" font-size="8" fill="#333" text-anchor="end">
      Shaft (2mm)
    </text>

    <!-- Eccentric cam disc (offset from shaft) -->
    <!-- Offset is positioned at 315° (NW direction) so top contact point is at 0° -->
    <circle cx="199.3" cy="259.3" r="30" fill="#B8D4E8" stroke="#2E5C8A" stroke-width="2.5"/>

    <!-- Offset line showing eccentricity (from shaft center to cam center) -->
    <line x1="200" y1="260" x2="199.3" y2="259.3" stroke="#C92A2A" stroke-width="1.5" stroke-dasharray="3,2"/>
    <text x="188" y="265" font-family="Arial, sans-serif" font-size="7" fill="#C92A2A" text-anchor="end">
      Offset 1mm
    </text>

    <!-- Contact point where cam pushes piston (top of cam circle = 0°) -->
    <circle cx="199.3" cy="229.3" r="3" fill="#FF6B6B" stroke="#C92A2A" stroke-width="1.5"/>

    <!-- Piston contact indicator -->
    <line x1="200" y1="205" x2="199.3" y2="229.3" stroke="#555" stroke-width="1.5" stroke-dasharray="2,2"/>

    <!-- Solenoid contact point at 135° (measuring clockwise from top = 0°) -->
    <!-- 135° from top = lower-left position -->
    <!-- x = cx + r*sin(135°) = 199.3 + 30*0.707 = 220.5 -->
    <!-- y = cy - r*cos(135°) = 259.3 - 30*(-0.707) = 280.5 -->
    <circle cx="220.5" cy="280.5" r="3" fill="#FF6B6B" stroke="#C92A2A" stroke-width="1.5"/>

    <!-- End position at 180° (bottom of cam circle) -->
    <!-- x = 199.3, y = 259.3 + 30 = 289.3 -->
    <!-- Solenoid center should be at avg: y = (280.5 + 289.3)/2 = 284.9 -->

    <!-- Cam label -->
    <text x="155" y="250" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="end">
      Eccentric Cam
    </text>
    <text x="155" y="262" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="end">
      Delrin POM
    </text>
    <text x="155" y="272" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="end">
      12mm dia × 2mm
    </text>

    <!-- Angle indicators -->
    <text x="195" y="222" font-family="Arial, sans-serif" font-size="7" fill="#666">
      0°
    </text>
    <text x="228" y="285" font-family="Arial, sans-serif" font-size="7" fill="#666">
      135°
    </text>
  </g>

  <!-- Rotation indicator -->
  <path d="M 210 255 A 12 12 0 0 1 210 265" fill="none" stroke="#2E5C8A" stroke-width="2"
        marker-end="url(#arrowhead)"/>
  <text x="218" y="262" font-family="Arial, sans-serif" font-size="8" fill="#2E5C8A">
    Rotate
  </text>

  <!-- Solenoid (centered between 135° and 180° positions, offset by cam diameter) -->
  <g id="solenoid">
    <!-- Solenoid center at y=284.9 (halfway between start 280.5 and end 289.3) -->
    <!-- Offset right by 60mm (one cam diameter) from cam edge -->
    <!-- Cam right edge at x = 199.3 + 30 = 229.3, add 60mm gap = 289.3 -->
    <!-- Solenoid body -->
    <rect x="310" y="272.4" width="50" height="25" fill="#4A4A4A" stroke="#222" stroke-width="2" rx="2"/>
    <rect x="315" y="277.4" width="40" height="15" fill="#6B6B6B" stroke="#333" stroke-width="1"/>

    <!-- Plunger (centerline at y=284.9, extends left toward cam) -->
    <rect x="290" y="280.4" width="20" height="9" fill="#888" stroke="#555" stroke-width="1.5"/>

    <!-- Eccentric shaft connects solenoid plunger to cam rotation shaft -->
    <!-- Shaft runs from solenoid plunger (x=290) to cam shaft center (x=200, y=260) -->
    <line x1="290" y1="284.9" x2="220.5" y2="280.5" stroke="#666" stroke-width="5"/>
    <line x1="220.5" y1="280.5" x2="204" y2="260" stroke="#666" stroke-width="5"/>

    <!-- Eccentric shaft label -->
    <text x="255" y="275" font-family="Arial, sans-serif" font-size="8" fill="#333">
      Eccentric Shaft
    </text>
    <text x="255" y="284" font-family="Arial, sans-serif" font-size="7" fill="#666">
      (connects plunger to cam)
    </text>

    <!-- Solenoid label -->
    <text x="335" y="315" font-family="Arial, sans-serif" font-size="9" fill="#333" text-anchor="middle">
      Solenoid
    </text>
    <text x="335" y="327" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">
      4mm dia, 5VDC
    </text>
    <text x="335" y="337" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">
      1mm stroke, 0.5N
    </text>
  </g>

  <!-- Motion arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2E5C8A"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#C92A2A"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2F9E44"/>
    </marker>
  </defs>

  <!-- Solenoid actuation arrow -->
  <line x1="320" y1="268" x2="300" y2="268" stroke="#C92A2A" stroke-width="2"
        marker-end="url(#arrowhead-red)"/>
  <text x="330" y="265" font-family="Arial, sans-serif" font-size="8" fill="#C92A2A">
    Push (1mm)
  </text>

  <!-- Vertical motion arrow -->
  <line x1="185" y1="140" x2="185" y2="100" stroke="#2F9E44" stroke-width="2"
        marker-end="url(#arrowhead-green)"/>
  <text x="175" y="125" font-family="Arial, sans-serif" font-size="8" fill="#2F9E44" text-anchor="end">
    0.7mm
  </text>
  <text x="175" y="135" font-family="Arial, sans-serif" font-size="8" fill="#2F9E44" text-anchor="end">
    ↑
  </text>

  <!-- Key insight box -->
  <rect x="50" y="420" width="300" height="70" fill="#FFF9DB" stroke="#F59F00" stroke-width="2" rx="4"/>
  <text x="200" y="440" font-family="Arial, sans-serif" font-size="10" font-weight="bold"
        text-anchor="middle" fill="#862E9C">
    KEY INNOVATION: Eccentric Cam Actuation
  </text>
  <text x="200" y="455" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    Solenoid pushes shaft → Eccentric cam rotates → Cam lifts piston
  </text>
  <text x="200" y="468" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    1mm offset × rotation = 0.7mm vertical stroke
  </text>
  <text x="200" y="481" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#333">
    Decouples 4mm solenoid from 2.5mm braille spacing (ADA 703.3)
  </text>
</svg>
