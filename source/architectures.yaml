# Braille Display Device - Architecture Database
# Project: Lam Research EE Concept Evaluation
# Purpose: SINGLE SOURCE OF TRUTH for 3 alternative solution architectures
# Links to: source/requirements.yaml, source/subsystems.yaml

metadata:
  project: "Lam Research - Braille Display EE Concept Evaluation"
  version: "2.0.0"
  date: "2025-10-11"
  author: "Spencer Barrett"
  purpose: "Define 3 alternative architectures (SOL_ECO, PIEZO_ECO, PIEZO_DLX) with qualitative + quantitative comparison"
  changelog: |
    v2.0.0 (2025-10-11):
    - Renamed architectures to economic tier focus: ARCH_SOL_ECO, ARCH_PIEZO_ECO, ARCH_PIEZO_DLX
    - Added ARCH_SOL_ECO: Rotary cam mechanism, $216 production BOM, standard braille spacing
    - Removed ARCH-C (redundant mid-tier) and ARCH-D (violated braille spacing)
    - Portfolio strategy: Low-cost (SOL/PIEZO_ECO) vs Deluxe (PIEZO_DLX)

# ============================================================================
# ARCHITECTURE DEFINITIONS
# ============================================================================

architectures:

  ARCH_PIEZO_ECO:
    id: "ARCH_PIEZO_ECO"
    name: "Piezo Economy (Wired)"
    nickname: "Value Desk"
    market_position: "Entry-level / Education / Desktop / Low-cost Piezo"
    strategy_note: "ECO tier (piezo variant): LOWEST RISK + SIMPLEST DESIGN. USB-C wired eliminates battery complexity. Fastest piezo option to market (6 weeks). Higher BOM ($420) than SOL_ECO but proven piezo technology (zero technical risk)."

    # Requirements traceability
    driven_by_requirements:
      - id: "PRD-IFACE-001-ASMP"
        scenario: "Scenario B (USB-C wired): Tethered, no battery, $100-150 BOM"
      - id: "PRD-COST-001-ASMP"
        target: "Low-end BOM target ($100-150)"
      - id: "PRD-SCHED-001-ASMP"
        target: "Fastest to pilot (simplest design)"

    # Subsystem mapping
    subsystems:
      core:
        - SS-ACTUATOR       # $288.00
        - SS-CONTROL        # $8.00
        - SS-IO-EXPAND      # $4.80
        - SS-ACTUATOR-DRIVER # $19.20
        - SS-USER-IO        # $0.50
        - SS-PCB            # $15.00
        - SS-ENCLOSURE      # $25.00
        - SS-EMI-BULK-CAP   # $1.92 (24× @ $0.08 ea, NFR-EMI-001)
        - SS-EMI-BYPASS-CAP # $0.19 (24× @ $0.008 ea, NFR-EMI-001)
      unique:
        - SS-COMM-USB       # $1.50
        - SS-POWER-USB-LDO  # $0.75
        - SS-POWER-USB-BOOST # $2.25

    # Qualitative assessment
    qualitative:
      cost:
        bom: "LOW"
        certification: "LOW"
        nre: "LOW"
      size:
        physical: "SMALL"
        weight: "LIGHT"
        portability: "MEDIUM"
      ux:
        setup: "BEST"
        convenience: "FAIR"
        reliability: "BEST"
        battery_anxiety: "NONE"
        mobility: "POOR"
      complexity:
        hardware: "SIMPLE"
        firmware: "SIMPLE"
        power: "TRIVIAL"
        mechanical: "SIMPLE"
      timeline:
        pilot: "FASTEST"
        parts_leadtime: "SHORT"
        certification: "FAST"
      manufacturing:
        assembly: "SIMPLE"
        component_count: "LOW"
        dfm: "EXCELLENT"
        yield_risk: "LOW"
      risk:
        technical: "LOW"
        supply_chain: "LOW"
        safety: "LOW"
        timeline: "LOW"
        cost_overrun: "LOW"
      market_fit:
        education: "EXCELLENT"
        consumer: "FAIR"
        professional: "POOR"
        accessibility_ngos: "EXCELLENT"
        global: "EXCELLENT"

    # Quantitative metrics
    quantitative:
      cost:
        bom_target: 125           # Target (need cost reduction!)
        bom_range_min: 100
        bom_range_max: 150
        certification_cost: 20000  # FCC Part 15B only (no radio, no battery)
        nre_total: 35000          # Cert + PCB setup + enclosure tooling (3D print)
      size:
        length_mm: 200            # 8 inches
        width_mm: 100             # 4 inches
        height_mm: 15             # 0.6 inches (thin, no battery)
        weight_grams: 360         # 0.79 lbs
        weight_lbs: 0.79
      performance:
        refresh_speed_sec: 1.5    # Full 32-cell line update
        battery_life_hrs: null    # N/A (bus-powered)
        power_consumption_watts: 2.5  # From USB-C 5V
      timeline:
        design_weeks: 2
        prototype_weeks: 2
        pilot_production_weeks: 2
        total_weeks: 6
        certification_weeks: 4     # FCC 15B (simplest)
      manufacturing:
        component_count: 250       # Approx (192 actuators + 24 drivers + 4 expanders + MCU + passives)
        assembly_time_min: 15      # Per unit (pilot, hand assembly)
        yield_estimate: 0.98       # 98% first-pass yield

    block_diagram_path: "docs/diagrams/arch-piezo-eco-wired-block.png"
    bom_csv_path: "artifacts/bom/arch-piezo-eco-wired-bom.csv"

  ARCH_SOL_ECO:
    id: "ARCH_SOL_ECO"
    name: "Solenoid Economy (Rotary Cam)"
    nickname: "Cam Innovation"
    market_position: "Economy / Budget-Conscious / Best Cost-Performance / Standard Braille Spacing"
    strategy_note: "ECO tier focus: EXTREME LOW RISK + FASTEST TIME TO MARKET. Uses COTS solenoids (2-week lead, globally available) to eliminate supply chain risk. 50% cost savings vs piezo ($216 vs $436 production BOM). Cam mechanism proven in automotive/robotics applications."
    note: "Replaces ARCH-D (violated braille spacing). Rotary cam mechanism achieves standard 2.5mm spacing with COTS solenoids."

    # Requirements traceability
    driven_by_requirements:
      - id: "PRD-SCHED-002-ASMP"
        target: "COTS mandate (≤4 week lead time) → Use COTS solenoid (Takaha BS-0420N-01)"
      - id: "PRD-POWER-004-ASMP"
        target: "AA battery life (8 hours) → Solenoid+cam = 1.53W (marginal fit)"
      - id: "PRD-COST-001-ASMP"
        target: "Lowest BOM target ($165-216) via actuator cost savings (solenoid $96 vs piezo $288)"
      - id: "PRD-FUNC-001"
        target: "Standard 2.5mm braille spacing (ADA 703.3) - preserves muscle memory"

    # Subsystem mapping (production BOM - steel molds)
    subsystems:
      core:
        - SS-ACTUATOR-SOLENOID  # $96.00 (192× @ $0.50 ea, COTS Takaha BS-0420N-01)
        - SS-ACTUATOR-CAM       # $14.40 (3× cam discs per char @ $0.15 ea, steel mold)
        - SS-ACTUATOR-PISTON    # $19.20 (6× piston rods per char @ $0.10 ea, steel mold)
        - SS-ACTUATOR-BUSHING   # $15.36 (6× linear bushings per char @ $0.08 ea, steel mold)
        - SS-ACTUATOR-CAM-HOUSING # $16.00 (1× housing per char @ $0.50 ea, steel mold)
        - SS-ACTUATOR-SPRING    # $3.84 (6× compression springs per char @ $0.02 ea)
        - SS-CONTROL            # $8.00
        - SS-IO-EXPAND          # $4.80
        - SS-ACTUATOR-DRIVER-2CH # $2.40 (3× ULN2803A for 2-channel architecture)
        - SS-USER-IO            # $0.50
        - SS-PCB                # $15.00
        - SS-ENCLOSURE          # $8.00 (injection molded production)
        - SS-EMI-BULK-CAP   # $0.24 (3× @ $0.08 ea, NFR-EMI-001 - fewer drivers)
        - SS-EMI-BYPASS-CAP # $0.02 (3× @ $0.008 ea, NFR-EMI-001 - fewer drivers)
      unique:
        - SS-COMM-USB           # $1.50 (wired only - no BLE radio)
        - SS-POWER-AA-HOLDER    # $2.00
        - SS-POWER-AA-BOOST-3V3 # $2.25
        - SS-POWER-AA-BOOST-12V # $2.25 (12V for solenoid overdrive, not 30V for piezo)

    # Qualitative assessment
    qualitative:
      cost:
        bom: "LOW"               # $216 production (50% savings vs piezo)
        certification: "MEDIUM"
        nre: "MEDIUM-HIGH"       # $70K-90K steel tooling
      size:
        physical: "SMALL"        # 198mm (standard ADA spacing, not 280mm)
        weight: "MEDIUM"         # 4× AA + cam mechanism
        portability: "HIGH"      # Wireless capable
      ux:
        setup: "BEST"            # Plug and play (wired USB-C)
        convenience: "GOOD"      # Wired only, but instant AA battery swap
        reliability: "BEST"      # Wired connection (no radio dropouts)
        battery_anxiety: "NONE"  # Instant AA swap
        mobility: "FAIR"         # Wired limits mobility
        refresh_speed: "ACCEPTABLE" # 2.4 sec (vs 1.5 sec piezo, good for beginners)
      complexity:
        hardware: "MODERATE"
        firmware: "SIMPLE"       # USB-C only (no BLE stack)
        power: "MODERATE"        # Boost converters (no charger)
        mechanical: "COMPLEX"    # Cam mechanism + layer offsets + piston alignment
      timeline:
        pilot: "FAST"            # 10 weeks total, but COTS parts (2-week lead) enable early prototyping
        parts_leadtime: "SHORTEST" # All COTS (solenoid 2-week lead time, fastest among all architectures)
        certification: "FAST"    # FCC 15B only (wired, no radio)
      manufacturing:
        assembly: "MODERATE"     # Modular 6-dot subassemblies (snap-together)
        component_count: "MEDIUM"
        dfm: "EXCELLENT"         # Injection molding scalable, ±0.2mm tolerance OK
        yield_risk: "MEDIUM"     # Cam mechanism prototype validation needed
      risk:
        technical: "LOW"         # COTS solenoids (proven), cam mechanisms proven (automotive/robotics), modular design
        supply_chain: "LOWEST"   # AA + COTS solenoids globally available, 2-week lead time (fastest)
        safety: "LOW"            # AA safe (no Li-ion hazard), 12V low voltage
        timeline: "LOW"          # COTS parts minimize risk, modular assembly de-risks production
        cost_overrun: "LOWEST"   # Actuators well-defined cost ($96 COTS vs $288 custom piezo)
      market_fit:
        education: "EXCELLENT"   # Low cost + AA batteries + standard spacing
        consumer: "EXCELLENT"    # Best flexibility (wireless + wired) + affordable
        professional: "GOOD"     # Standard spacing + reliable (acceptable refresh)
        accessibility_ngos: "EXCELLENT" # Low cost + long battery life
        global: "EXCELLENT"      # AA everywhere

    # Quantitative metrics (production volume - steel molds)
    quantitative:
      cost:
        bom_target: 165           # Low-mid range target
        bom_range_min: 150
        bom_range_max: 180
        certification_cost: 20000  # FCC 15B only (wired, no radio)
        nre_total: 70000          # $70K-90K steel tooling (higher than piezo, justified by lower BOM)
      size:
        length_mm: 198            # Standard ADA spacing (32 chars × 6.2mm)
        width_mm: 105             # Slightly wider (cam mechanism)
        height_mm: 25             # Same as AA holder
        weight_grams: 550         # 1.21 lbs (4× AA + cam mechanism)
        weight_lbs: 1.21
      performance:
        refresh_speed_sec: 2.4    # 8-way parallel actuation (acceptable for beginners)
        battery_life_hrs: 8       # 4× AA = 15Wh, 1.53W avg → 8 hrs
        power_consumption_watts: 1.53  # Solenoid+cam (2 channels) marginal fit
      timeline:
        design_weeks: 3
        prototype_weeks: 3        # Cam mechanism prototyping (SLA 3D print)
        pilot_production_weeks: 4 # Proto molds (soft tooling)
        total_weeks: 10
        certification_weeks: 4     # FCC 15B only (wired, no radio)
      manufacturing:
        component_count: 320       # Higher count (cam parts) but modular assembly
        assembly_time_min: 20      # Modular 6-dot subassemblies (snap-together)
        yield_estimate: 0.94       # Medium yield (cam mechanism validation)

    block_diagram_path: "docs/diagrams/arch-sol-eco-cam-block.png"
    bom_csv_path: "artifacts/bom/arch-sol-eco-cam-bom.csv"

  ARCH_PIEZO_DLX:
    id: "ARCH_PIEZO_DLX"
    name: "Piezo Deluxe (Wireless)"
    nickname: "Premium Pro"
    market_position: "Premium / Mobile Professional / Sleek Design / Rechargeable"
    strategy_note: "DLX tier focus: BEST USABILITY + CONVENIENCE. BLE wireless (no cable clutter) + Li-ion rechargeable (no battery swapping). Fastest refresh speed (1.5 sec). Premium UX justifies higher BOM ($449) and Li-ion safety certification."

    # Requirements traceability
    driven_by_requirements:
      - id: "PRD-IFACE-001-ASMP"
        scenario: "Scenario A (BLE-only): Wireless, requires battery, $200-250 BOM"
      - id: "PRD-COST-001-ASMP"
        target: "Premium BOM target ($200-250)"
      - id: "PRD-SIZE-001-ASMP"
        target: "Most portable (sleek, integrated rechargeable)"

    # Subsystem mapping
    subsystems:
      core:
        - SS-ACTUATOR       # $288.00
        - SS-CONTROL        # $8.00
        - SS-IO-EXPAND      # $4.80
        - SS-ACTUATOR-DRIVER # $19.20
        - SS-USER-IO        # $0.50
        - SS-PCB            # $15.00
        - SS-ENCLOSURE      # $25.00
        - SS-EMI-BULK-CAP   # $1.92 (24× @ $0.08 ea, NFR-EMI-001)
        - SS-EMI-BYPASS-CAP # $0.19 (24× @ $0.008 ea, NFR-EMI-001)
      unique:
        - SS-COMM-BLE       # $12.00
        - SS-POWER-LIION-CELL  # $5.00
        - SS-POWER-LIION-CHARGER  # $3.00
        - SS-POWER-LIION-PROTECTION  # $1.50
        - SS-POWER-LIION-GAUGE  # $2.50

    # Qualitative assessment
    qualitative:
      cost:
        bom: "MEDIUM-HIGH"
        certification: "HIGH"    # FCC radio + UL 2054 battery
        nre: "HIGH"
      size:
        physical: "MEDIUM"       # Integrated battery (sleeker than AA)
        weight: "MEDIUM"         # Li-ion lighter than AA
        portability: "HIGH"
      ux:
        setup: "GOOD"            # BLE pairing
        convenience: "GOOD"      # Wireless freedom
        reliability: "GOOD"      # BLE can drop (no fallback)
        battery_anxiety: "HIGH"  # Forgot to charge?
        mobility: "EXCELLENT"    # Truly wireless
        refresh_speed: "FAST"    # 1.5 sec (best performance)
      complexity:
        hardware: "MODERATE"
        firmware: "MODERATE"     # BLE only (simpler than dual stack)
        power: "COMPLEX"         # Charger + fuel gauge + thermal mgmt
        mechanical: "MODERATE"   # Integrated battery pack
      timeline:
        pilot: "MODERATE"        # 8 weeks
        parts_leadtime: "MEDIUM" # BLE module, Li-ion pack
        certification: "SLOW"    # FCC 15C + UL 2054 (longest)
      manufacturing:
        assembly: "MODERATE"
        component_count: "MEDIUM"
        dfm: "GOOD"
        yield_risk: "MEDIUM"
      risk:
        technical: "MEDIUM"      # BLE pairing UX
        supply_chain: "MEDIUM"   # Li-ion sourcing
        safety: "HIGH"           # Li-ion thermal runaway risk
        timeline: "MEDIUM-HIGH"
        cost_overrun: "MEDIUM-HIGH"
      market_fit:
        education: "POOR"        # Too expensive
        consumer: "EXCELLENT"    # Premium wireless UX
        professional: "EXCELLENT" # Fast refresh + mobile use cases
        accessibility_ngos: "GOOD"
        global: "FAIR"           # Charger voltage varies (110V/220V)

    # Quantitative metrics
    quantitative:
      cost:
        bom_target: 225           # Premium target
        bom_range_min: 200
        bom_range_max: 250
        certification_cost: 35000  # FCC 15B + 15C + UL 2054 (battery)
        nre_total: 70000
      size:
        length_mm: 210
        width_mm: 100
        height_mm: 20             # Integrated battery (thicker than wired, thinner than AA)
        weight_grams: 450         # 0.99 lbs (Li-ion 60g vs AA 96g)
        weight_lbs: 0.99
      performance:
        refresh_speed_sec: 1.5
        battery_life_hrs: 10      # 2500mAh Li-ion @ 250mA avg
        power_consumption_watts: 1.0  # BLE efficient
      timeline:
        design_weeks: 3
        prototype_weeks: 2
        pilot_production_weeks: 3
        total_weeks: 8
        certification_weeks: 8     # FCC 15C + UL 2054 (slowest)
      manufacturing:
        component_count: 270
        assembly_time_min: 18
        yield_estimate: 0.96

    block_diagram_path: "docs/diagrams/arch-piezo-dlx-wireless-block.png"
    bom_csv_path: "artifacts/bom/arch-piezo-dlx-wireless-bom.csv"

# ============================================================================
# COMPARISON DIMENSIONS (for auto-generating comparison tables)
# ============================================================================

comparison_dimensions:
  - category: "Cost"
    qualitative: ["bom", "certification", "nre"]
    quantitative: ["bom_total", "certification_cost", "nre_total"]

  - category: "Size & Weight"
    qualitative: ["physical", "weight", "portability"]
    quantitative: ["length_mm", "width_mm", "height_mm", "weight_lbs"]

  - category: "User Experience"
    qualitative: ["setup", "convenience", "reliability", "battery_anxiety", "mobility"]
    quantitative: ["battery_life_hrs"]

  - category: "Complexity"
    qualitative: ["hardware", "firmware", "power", "mechanical"]
    quantitative: ["component_count"]

  - category: "Timeline"
    qualitative: ["pilot", "parts_leadtime", "certification"]
    quantitative: ["total_weeks", "certification_weeks"]

  - category: "Manufacturing"
    qualitative: ["assembly", "component_count", "dfm", "yield_risk"]
    quantitative: ["assembly_time_min", "yield_estimate"]

  - category: "Risk"
    qualitative: ["technical", "supply_chain", "safety", "timeline", "cost_overrun"]
    quantitative: []

  - category: "Market Fit"
    qualitative: ["education", "consumer", "professional", "accessibility_ngos", "global"]
    quantitative: []
