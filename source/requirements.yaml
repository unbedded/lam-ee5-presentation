# Braille Display Device - Requirements Database (REFACTORED)
# Project: Lam Research EE Concept Evaluation
# Purpose: SINGLE SOURCE OF TRUTH for all requirements and assumptions
# Auto-generates: requirements.md (human report) + traceability-matrix.md
#
# HIERARCHICAL NAMING CONVENTION:
#   PRD-XXXX-NNN         = Product Requirement (verbatim from PDF)
#   PRD-XXXX-NNN-ASMP    = Assumption (our interpretation to make PRD actionable)
#   NO DEEPER NESTING    = Design decisions go in v1.3.0 architecture docs, NOT here
#
# Categories:
#   PRD-SCHED = Schedule/Timeline requirements
#   PRD-COST  = Cost requirements
#   PRD-VOL   = Volume/manufacturing requirements
#   PRD-SIZE  = Size/portability requirements
#   PRD-USER  = User/accessibility requirements
#   PRD-FUNC  = Functional requirements
#   PRD-IFACE = Interface/connectivity requirements

metadata:
  project: "Lam Research - Braille Display EE Concept Evaluation"
  version: "2.0.0"
  date: "2025-10-08"
  author: "Spencer Barrett"
  source_doc: "reference/interview/Interview Overview and Concept Evaluation - EE Presentation.pdf"
  source_email: "reference/interview/interview-confirmation-email.md"

  scope:
    in_scope:
      - "Technical requirements identification (system, electrical, manufacturing, user)"
      - "Alternative solution architectures (actuator, control, communication)"
      - "Quantitative trade-off analysis (cost, power, size, timeline)"
      - "Path to production (2-month timeline to pilot production)"
      - "Design for manufacturability (DFM) - high volume SMT assembly"
      - "Standards awareness (FCC/CE, UL, ADA/ISO)"
      - "Prototype-to-pilot feasibility (10-100 units)"

    out_of_scope:
      # ⚠️ DEFERRED to post-pilot phases (Month 3+), NOT ignored
      - "Regulatory compliance certification (FCC/CE/UL testing) → Post-pilot"
      - "Formal FMEA/DFMEA with RPN scoring → Post-pilot, v1.5.0 does lightweight risk analysis"
      - "Market-specific localization → Post-pilot"
      - "Service infrastructure (warranty, RMA, spare parts) → Post-pilot"
      - "End-of-life management (recycling) → Post-pilot"
      - "Intellectual property strategy (patents, FTO) → Post-pilot when design frozen"
      - "Supply chain contracts (vendor negotiations) → Post-pilot"
      - "Quality management system (ISO 9001) → Post-pilot"
      - "Field trials at scale (50-100 beta users) → Post-pilot"
      - "Environmental sealing / IP rating → Post-pilot if market requires"
      - "Detailed DFX (DFT, DFA, DFS) → Post-pilot, v1.5.0 covers basic DFM"
      - "Software application development (cell phone app) → Out of scope, use existing screen readers"

  rationale: |
    This is a concept evaluation focused on electrical engineering design and production
    feasibility within a 2-month timeline to PILOT PRODUCTION (10-100 units for design
    validation), NOT immediate mass production. Pilot validates design, manufacturing
    tolerances, and failure modes before scaling to high volume (Month 3+).

    PDF intentionally left many requirements vague to test engineering judgment.
    Professional approach: Document assumptions (PRD-XXX-NNN-ASMP), test sensitivity
    in v1.4.0, present portfolio of design options in v1.3.0.

# ============================================================================
# GROUND TRUTH REQUIREMENTS (verbatim from PDF)
# ============================================================================
# These are directly quoted from PDF. Status = CLEAR (testable) or VAGUE (needs assumption)

requirements:

  # --------------------------------------------------------------------------
  # SCHEDULE / TIMELINE
  # --------------------------------------------------------------------------

  PRD-SCHED-001:
    title: "Production Timeline - Two Month Release"
    source: "PDF p.2 - Context"
    pdf_verbatim: "The program director aims to release the project into production within two months to meet a customer deadline."
    status: "VAGUE - 'production' undefined (pilot vs mass?)"
    why_vague: "Does 'production' mean pilot (100-500 units) or mass production (10k+/month)? Industry context suggests pilot, but not explicit."
    testable: NO
    priority: "P0-Critical"
    category: "Schedule"

  PRD-SCHED-001-ASMP:
    parent: "PRD-SCHED-001"
    title: "Pilot Production Assumption"
    pdf_says: "release the project into production within two months"
    our_assumption: "Production within 2 months = PILOT production of 100-500 units for design validation, NOT mass production (10k+/month)"
    rationale: |
      Industry best practice: 2-month design cycle → pilot run (100-500 units) → validate design,
      manufacturing tolerances, failure modes → scale to mass production (Month 3+).
      Direct-to-mass-production is extremely high-risk (no tolerance validation, no FMEA data).
    risk_level: MEDIUM
    customer_validation_needed: YES
    impact_if_wrong: "If mass production required in 2 months, timeline is infeasible (tooling, certification, supply chain all take 8-12 weeks minimum)"
    test_plan: "v1.5.0 production timeline (design → pilot → scale), v1.4.0 sensitivity on timeline compression"
    priority: "P0-Critical"
    category: "Schedule"
    acceptance_criteria:
      - "Pilot run: 100-500 units for design validation"
      - "Parts lead time: <6 weeks (use COTS components, no custom tooling)"
      - "Assembly method: Hand assembly or semi-automated (pilot scale)"
      - "Validation: Pilot units test mechanical tolerances, failure modes, user acceptance"
      - "Post-pilot: Scale to mass production (10k+/month) after validation"

  # --------------------------------------------------------------------------
  # SIZE / PORTABILITY
  # --------------------------------------------------------------------------

  PRD-SIZE-001:
    title: "Portable Device"
    source: "PDF p.2 - Objective"
    pdf_verbatim: "portable, low cost, high volume companion device to a cell phone"
    status: "VAGUE - no size/weight/portability definition"
    why_vague: "No dimensions, weight limits, or context (pocket? bag? hand-carry? desktop?)"
    testable: NO
    priority: "P1-High"
    category: "Form Factor"

  PRD-SIZE-001-ASMP:
    parent: "PRD-SIZE-001"
    title: "Portable Form Factor - Cell Phone Environment Compatible"
    pdf_says: "portable companion device to a cell phone"
    our_assumption: "Portable = compatible with environments where cell phone goes (pocket, bag, desk). Target ≤1.3 lbs (590g) weight, fits in bag/purse (~8\"×4\"×1\" max), operates anywhere cell phone operates."
    rationale: |
      'Companion device to cell phone' suggests same portability/environment as cell phone:
      - Pocket/bag portable (not desktop/tethered)
      - Indoor environments (home, office, school, cafe)
      - Battery powered (untethered)
      - Durable for daily transport

      BrailleMe competitor benchmark: 1.3 lbs (590g), 20-cell, portable design.
      Our 32-cell device will be slightly larger/heavier, but target ≤1.3 lbs is achievable.
    risk_level: MEDIUM
    customer_validation_needed: YES
    sensitivity_range: "Weight: 0.5-1.5 lbs (230-680g), Size: 6-10\" wide × 3-5\" deep × 0.5-1.5\" tall"
    impact_if_wrong: "If ultra-light (<0.5 lbs) required, limits battery capacity significantly. If desktop (2+ lbs) acceptable, eases design constraints."
    test_plan: "v1.3.0 weight budget (actuators + battery + enclosure), v1.4.0 sensitivity on size/weight trade-offs"
    priority: "P1-High"
    category: "Form Factor"
    acceptance_criteria:
      - "Weight: ≤1.3 lbs (590g) target (BrailleMe benchmark)"
      - "Dimensions: ≤8\" × 4\" × 1\" (fits in bag/purse)"
      - "Operating environments: Same as cell phone (indoor, 0-40°C, 20-80% RH non-condensing)"
      - "Durability: Survives daily transport (bag/backpack, 1m drop test)"
      - "Power: Battery powered (untethered), USB-C charging"
    competitor_reference: "BrailleMe (1.3 lbs, 20-cell, portable design)"

  # --------------------------------------------------------------------------
  # INTERFACE / CONNECTIVITY
  # --------------------------------------------------------------------------

  PRD-IFACE-001:
    title: "Cell Phone Connectivity - Text Input to Braille Output"
    source: "PDF p.2 - Function"
    pdf_verbatim: "device connects to a cell phone - receives text source from phone and displays as appropriate Braille text"
    status: "VAGUE - protocol and text format unspecified"
    why_vague: "No interface protocol (BLE? USB? WiFi? wired?), no text encoding (ASCII? Unicode?), no pairing process specified"
    testable: NO
    priority: "P0-Critical"
    category: "Interface"

  PRD-IFACE-001-ASMP:
    parent: "PRD-IFACE-001"
    title: "Multi-Interface Connectivity Strategy"
    pdf_says: "device connects to a cell phone - receives text source"
    our_assumption: "Primary interface: BLE (wireless, universal on modern phones). Secondary: USB-C wired (charging + data fallback, also low-cost option for future). Text format: ASCII (English Grade 1 braille), Unicode deferred to v2.0."
    rationale: |
      'Portable companion device' suggests wireless (BLE) for mobility, BUT wired (USB-C) is
      valid low-cost alternative (no battery, tethered = still portable, just less convenient).

      PORTFOLIO APPROACH (v1.3.0 will design multiple architectures):
      - Architecture A: BLE-only (most portable, requires battery, wireless freedom)
      - Architecture B: USB-C wired (no battery, tethered to phone, lowest cost $100-150 BOM savings)
      - Architecture C: BLE + USB-C hybrid (battery for wireless, USB for charging/fallback, best UX)

      Text format: ASCII initially (simpler firmware, covers English Grade 1 braille),
      Unicode support deferred to v2.0 (adds complexity, requires lookup tables).
    risk_level: HIGH
    customer_validation_needed: YES
    sensitivity_range: "BLE-only, USB-C-only, or BLE+USB hybrid"
    impact_if_wrong: "BLE-only eliminates low-cost wired option. USB-C-only eliminates wireless UX. Hybrid is most flexible but highest cost."
    test_plan: "v1.3.0 interface architecture comparison (BLE vs USB-C vs hybrid), v1.4.0 cost/UX trade-offs"
    priority: "P0-Critical"
    category: "Interface"
    acceptance_criteria:
      - "Protocol options: BLE 5.0+ (wireless) OR USB-C (wired) OR both (hybrid)"
      - "Text format: ASCII (English, Grade 1 braille), 8-bit encoding"
      - "Cross-platform: iOS + Android compatibility"
      - "Pairing/connection: <30 seconds (BLE), plug-and-play (USB-C)"
      - "Data integrity: Text received without corruption, CRC or checksum"
    alternative_scenarios:
      - "Scenario A (BLE-only): Wireless, requires battery, $200-250 BOM"
      - "Scenario B (USB-C wired): Tethered, no battery, $100-150 BOM (great low-cost option!)"
      - "Scenario C (Hybrid BLE+USB): Best UX, highest cost $250-300 BOM"

  # --------------------------------------------------------------------------
  # COST
  # --------------------------------------------------------------------------

  PRD-COST-001:
    title: "Low Cost at Volume"
    source: "PDF p.2 - Objective"
    pdf_verbatim: "The device must be low-cost at volume production volume"
    status: "VAGUE - no dollar amount specified"
    why_vague: "No specific cost target (BOM? Retail? FOB?), no definition of 'low-cost' (relative to what?)"
    testable: NO
    priority: "P0-Critical"
    category: "Cost"

  PRD-COST-001-ASMP:
    parent: "PRD-COST-001"
    title: "BOM Cost Target with Volume Assumption"
    pdf_says: "low-cost at volume production volume"
    our_assumption: "BOM parts cost $200 ±$100 at volume of 10k units/month (range: $100-$300 BOM)"
    rationale: |
      PDF says 'low-cost' but gives no dollar amount. Market research (2025-10-08):
      - BrailleMe: $515.50 retail (20-cell) → assuming 3× markup → ~$170 BOM
      - Orbit Reader: $449 retail (20-cell) → assuming 3× markup → ~$150 BOM
      - APH Refreshabraille: $1,795 retail (18-cell) → premium product

      Our 32-cell device (60% more actuators than 20-cell) → target $200 BOM (mid-range).
      3× markup → $600 retail (competitive with BrailleMe $515).

      CRITICAL: This is an ASSUMPTION with ±50% sensitivity range ($100-$300 BOM).
      v1.4.0 will test multiple cost scenarios, v1.3.0 will design portfolio at different cost points.
    risk_level: CRITICAL
    customer_validation_needed: YES
    sensitivity_range: "$100-$300 BOM (±50% from $200 target)"
    volume_assumption: "10k units/month (120k/year) for BOM pricing"
    impact_if_wrong: |
      - If target is $100 BOM → Eliminates most actuator options, requires aggressive cost reduction
      - If target is $300 BOM → Opens up premium actuator options (solenoid, haptic feedback)
    test_plan: "v1.4.0 sensitivity analysis (BOM scenarios: $100, $150, $200, $250, $300), v1.3.0 portfolio of architectures at different cost points"
    priority: "P0-Critical"
    category: "Cost"
    acceptance_criteria:
      - "BOM target: $200 ±$100 (range: $100-$300) at 10k/month volume"
      - "Retail price: ~$600 (3× markup from $200 BOM)"
      - "Competitive positioning: Comparable to BrailleMe ($515) but 32-cell vs 20-cell"
      - "Cost breakdown: Actuators ~40-50% of BOM, PCB ~15%, battery ~10%, enclosure ~10%, misc ~15-25%"
    competitor_data: "BrailleMe ($515.50 retail, 20-cell), Orbit Reader ($449, 20-cell)"

  # --------------------------------------------------------------------------
  # VOLUME / MANUFACTURING
  # --------------------------------------------------------------------------

  PRD-VOL-001:
    title: "High Volume Production Design"
    source: "PDF p.2 - Objective"
    pdf_verbatim: "The device must be designed for high-volume production"
    status: "VAGUE - no volume quantity specified"
    why_vague: "No specific volume target (1k/mo? 10k/mo? 100k/mo?), no manufacturing process specified"
    testable: NO
    priority: "P1-High"
    category: "Manufacturing"

  PRD-VOL-001-ASMP:
    parent: "PRD-VOL-001"
    title: "High Volume Production Capability"
    pdf_says: "designed for high-volume production"
    our_assumption: "High-volume = 10k units/month (120k/year) production capability, SMT assembly, design for automation"
    rationale: |
      Global accessibility market: ~285M visually impaired, assuming 0.01% penetration = 28K units/year potential.
      Target 10k/month (120k/year) as 'high-volume' threshold that drives design decisions:
      - SMT assembly (not through-hole or hand assembly)
      - Standard PCB processes (no exotic fabrication)
      - Automated testing (test points, boundary scan)
      - Component availability (no obsolete or single-source parts)

      NOTE: Pilot production (PRD-SCHED-001-ASMP) is 100-500 units, then scale to 10k/month.
    risk_level: HIGH
    customer_validation_needed: YES
    sensitivity_range: "1k/month (low volume, hand assembly OK) to 100k/month (full automation required)"
    impact_if_wrong: "If 1k/month, hand assembly acceptable (lower NRE, higher unit cost). If 100k/month, requires full automation (higher NRE, lower unit cost)."
    test_plan: "v1.4.0 sensitivity analysis (volume scaling 1k vs 10k vs 100k), v1.5.0 DFM analysis for SMT assembly"
    priority: "P1-High"
    category: "Manufacturing"
    acceptance_criteria:
      - "Production volume: 10k units/month capability (120k/year)"
      - "Assembly: SMT (surface-mount technology), automated pick-and-place"
      - "Testing: Automated test fixtures (bed-of-nails, flying probe, or boundary scan)"
      - "Component sourcing: Standard parts, multi-source where possible, no obsolete parts"
      - "Yield target: ≥95% first-pass yield (pilot), ≥98% (mass production)"
    manufacturing_strategy: "Pilot (100-500 units, hand/semi-auto) → Scale (10k/month, full SMT automation)"

  # --------------------------------------------------------------------------
  # USER / ACCESSIBILITY
  # --------------------------------------------------------------------------

  PRD-USER-001:
    title: "Sight-Impaired User"
    source: "PDF p.2 - Objective"
    pdf_verbatim: "The device is intended for use by a sight-impaired person."
    status: "CLEAR - target user specified"
    testable: YES
    priority: "P0-Critical"
    category: "User"
    acceptance_criteria:
      - "Device meets accessibility standards (US ADA braille specs Section 703.3)"
      - "Tactile controls only (no screen dependency)"
      - "Audio feedback for status (optional but recommended)"
      - "User validation: ≥9/10 sight-impaired test users can operate device independently"

  # --------------------------------------------------------------------------
  # FUNCTIONAL REQUIREMENTS
  # --------------------------------------------------------------------------

  PRD-FUNC-001:
    title: "Single Line Braille Display - 32 Characters, 6 Dots Each"
    source: "PDF p.2 - Function"
    pdf_verbatim: "product displays a single line of Braille text at a time - drive 32 Braille characters. Each Braille character consists of 6 dots."
    status: "CLEAR - display specification explicit"
    testable: YES
    priority: "P0-Critical"
    category: "Function"
    acceptance_criteria:
      - "32 braille cells (characters) in single horizontal line"
      - "6 dots per cell (2 columns × 3 rows = Grade 1 braille)"
      - "Total: 192 individually controllable dots (32 × 6)"
      - "Dot spacing: 2.5mm pitch within cell, 6.0mm pitch between cells (US ADA 703.3)"
      - "Display width: ~192mm (32 cells × 6mm)"
      - "Actuator size constraint: ≤2.3mm diameter (derived from 2.5mm pitch minus dot diameter 1.5mm ÷ 2)"
    standards_reference:
      - "US ADA Section 703.3 (Signs) - braille dimensions"
      - "Braille Authority of North America (BANA) - spacing guidelines"
      - "reference/standards/braille-dimensions-standards.md"

  PRD-FUNC-002:
    title: "Braille Line Update (Refresh Next Line)"
    source: "PDF p.2 - Function"
    pdf_verbatim: "After a line of Braille text is read, the device must update to show the next line of text."
    status: "VAGUE - refresh speed and mechanism unspecified"
    why_vague: "No timing requirement (instant? 1 sec? 5 sec?), no trigger mechanism (button? automatic? gesture?)"
    testable: NO
    priority: "P1-High"
    category: "Function"

  PRD-FUNC-002-ASMP:
    parent: "PRD-FUNC-002"
    title: "Braille Refresh Speed and Navigation"
    pdf_says: "device must update to show the next line of text"
    our_assumption: "Refresh speed: <2 seconds full-line update (acceptable UX). Trigger: Tactile UP/DOWN buttons (standard pattern from BrailleMe, Orbit Reader competitors)."
    rationale: |
      Typical braille reading speed: 60-150 words/minute (advanced readers) = 1-2.5 seconds per line.
      Refresh <2 seconds = doesn't interrupt reading flow.

      Navigation: BrailleMe and Orbit Reader use tactile buttons (UP/DOWN or PREV/NEXT).
      Automatic scroll would be disruptive (users read at different speeds).
      Manual button trigger = user controls pace.
    risk_level: MEDIUM
    customer_validation_needed: YES
    sensitivity_range: "<1 sec (fast, challenging for some actuators) to <5 sec (slow but acceptable)"
    impact_if_wrong: "If <0.5 sec required, limits actuator options (piezo only). If 5 sec acceptable, eases actuator selection."
    test_plan: "v1.3.0 actuator selection (refresh speed capability), v1.4.0 UX testing with target users"
    priority: "P1-High"
    category: "Function"
    acceptance_criteria:
      - "Refresh speed: <2 seconds for full 32-character line update"
      - "Navigation: Two tactile buttons (UP = next line, DOWN = previous line)"
      - "Debouncing: No accidental double-presses (<50ms debounce)"
      - "Visual/audio feedback: Optional LED or beep on button press"
    competitor_reference: "BrailleMe (Perkins keyboard with nav keys), Orbit Reader (tactile buttons)"

  PRD-FUNC-003:
    title: "Braille Dot Actuation - Raised or Lowered"
    source: "PDF p.2 - Function"
    pdf_verbatim: "the device creates the braille dot pattern - Each dot can be either raised or lowered"
    status: "CLEAR - binary actuation specified"
    testable: YES
    priority: "P0-Critical"
    category: "Function"
    acceptance_criteria:
      - "Binary control: Each dot has two states (raised or lowered)"
      - "Dot height (raised): 0.5-0.7mm above surrounding surface (US ADA 703.3: 0.64-0.94mm)"
      - "Dot diameter: 1.5mm ±0.1mm (US ADA 703.3: 1.5-1.6mm)"
      - "Dot shape: Hemispherical dome (tactile sensitivity requirement)"
      - "Holding force: 50-100 grams (maintains raised position under finger pressure)"
      - "Reliability: >1 million actuation cycles (8 hrs/day × 2 years × 10 actuations/min)"
      - "Actuator size constraint: ≤2.3mm diameter (derived from 2.5mm pitch spacing)"
    standards_reference:
      - "US ADA Section 703.3"
      - "reference/standards/braille-dimensions-standards.md"

  # --------------------------------------------------------------------------
  # STANDARDS & COMPLIANCE
  # --------------------------------------------------------------------------

  NFR-STD-001:
    title: "North America Regulatory Compliance (UL + FCC)"
    source: "Derived from metadata.scope (standards awareness)"
    description: "Device shall be designed for compliance with North America standards (certification post-pilot)"
    priority: "P1-High"
    category: "Compliance"
    standards:
      - "UL 62368-1 (Electrical safety - ICT equipment)"
      - "UL 2054 (Battery safety - if BLE architecture)"
      - "FCC Part 15 Class B (EMI emissions)"
      - "FCC Part 15C (Radio emissions - if BLE)"
    rationale: "Phase 1 targets North America market. Design for compliance, certify post-pilot (Month 3-4)."
    acceptance_criteria:
      - "Design complies with UL 62368-1 safety requirements"
      - "PCB layout follows FCC Part 15B best practices (shielding, filtering)"
      - "Use pre-certified BLE modules (FCC ID) if BLE architecture"
      - "Use pre-certified battery packs (UL listed) if BLE architecture"
    verification_method: "Analysis (design review), Inspection (component selection), Test (post-pilot certification)"
    cost_impact: "$23K-45K, 3-4 months (post-pilot)"

  NFR-STD-002:
    title: "Accessibility Standards Compliance (US ADA)"
    source: "PDF p.2 - sight-impaired user requirement"
    description: "Braille display shall comply with US ADA Section 703.3 braille dimensions"
    priority: "P0-Critical"
    category: "Accessibility"
    standards:
      - "US ADA Section 703.3 (Braille signage standards)"
      - "Braille Authority of North America (BANA) guidelines"
    rationale: "ADA compliance ensures device is usable by sight-impaired population"
    acceptance_criteria:
      - "Dot spacing: 2.5mm pitch within cell, 6.0mm pitch between cells"
      - "Dot diameter: 1.5mm ±0.1mm (ADA: 1.5-1.6mm)"
      - "Dot height: 0.5-0.7mm raised (ADA: 0.64-0.94mm)"
      - "Actuator size: ≤2.3mm diameter (derived from spacing)"
    verification_method: "Inspection (mechanical measurements), Test (user validation with sight-impaired testers)"
    traces_to_existing: "PRD-FUNC-001, PRD-FUNC-003"

  # --------------------------------------------------------------------------
  # POWER / BATTERY LIFE REQUIREMENTS
  # --------------------------------------------------------------------------

  PRD-POWER-003-ASMP:
    title: "USB Power Budget (ARCH-B Wired)"
    parent: "PRD-IFACE-001-ASMP"
    pdf_says: "Scenario B: USB-C wired interface"
    our_assumption: "Device is USB 2.0 bus-powered, limited to 500mA @ 5V = 2.5W (USB specification)"
    rationale: |
      USB 2.0 specification limits bus-powered devices to 500mA (2.5W max).
      Need 20% margin (0.5W) for voltage drops, cable losses, and compatibility with older USB ports.
      Android phone USB OTG also limited to 500mA.
    requirement: "Average power consumption ≤ 2.0W (80% of USB 2.0 budget, 20% margin)"
    risk_level: MEDIUM
    customer_validation_needed: YES
    impact_if_wrong: "Device won't work on older USB ports or Android phones, may cause voltage brownout"
    test_plan: "v1.3.0 power budget analysis, v1.4.0 architecture trade-offs"
    priority: "P0-Critical"
    category: "Power"
    acceptance_criteria:
      - "Average power: ≤2.0W during typical reading (24 dots/sec actuation)"
      - "Peak power: ≤10W for <100ms (USB can handle brief transients)"
      - "Inrush current: <500mA on plug-in (no USB enumeration failure)"
    verification_method: "Analysis (power budget spreadsheet), Test (USB power analyzer during reading simulation)"
    derived_from: "USB 2.0 specification (500mA max bus-powered)"
    traces_to: "ARCH-B, actuator selection"

  PRD-POWER-004-ASMP:
    title: "AA Battery Life (ARCH-C Hybrid)"
    parent: "PRD-IFACE-001-ASMP"
    pdf_says: "Scenario C: Hybrid (BLE + USB), battery-powered option"
    our_assumption: "User wants 8 hours of continuous reading on 4× AA alkaline batteries (typical book reading session)"
    rationale: |
      4× AA alkaline: 2500 mAh @ 6V = 15 Wh total energy.
      Usable capacity: 80% (4 Wh lost to voltage sag at end-of-discharge) = 12 Wh usable.
      8-hour reading session: 12 Wh ÷ 8 hrs = 1.5W average power budget.
      Typical use case: Reading 1-2 books in a day (4-8 hours).
    requirement: "Average power consumption ≤ 1.5W for 8-hour battery life with 4× AA alkaline"
    risk_level: HIGH
    customer_validation_needed: YES
    impact_if_wrong: "Battery life too short (<4 hours), user frustration, need to carry spare batteries or use larger battery pack (8× AA)"
    test_plan: "v1.3.0 power budget analysis shows piezo (2.16W) EXCEEDS this budget by 46%. Need solenoid+latch alternative or larger battery."
    priority: "P1-High"
    category: "Power"
    acceptance_criteria:
      - "Average power: ≤1.5W during typical reading (24 dots/sec actuation, 50% active/25% page/25% idle)"
      - "Battery life: ≥8 hours continuous reading (4× AA alkaline, 2500 mAh)"
      - "Low-battery warning: Alert user at 20% capacity (1.6 hours remaining)"
    verification_method: "Analysis (power budget), Test (battery discharge test with continuous reading simulation)"
    derived_from: "AA battery capacity (2500 mAh @ 6V), typical reading session duration"
    traces_to: "ARCH-C, actuator selection (solenoid+latch required)"

  PRD-POWER-005-ASMP:
    title: "Li-ion Battery Life (ARCH-A Wireless)"
    parent: "PRD-IFACE-001-ASMP"
    pdf_says: "Scenario A: BLE-only wireless, rechargeable battery"
    our_assumption: "User wants 2 hours of reading on single charge (commute, short sessions between recharges)"
    rationale: |
      18650 Li-ion cell: 2500 mAh @ 3.7V = 9.25 Wh total energy.
      Usable capacity: 80% (safety margin, cutoff at 3.0V min) = 7.4 Wh usable.
      2-hour reading session: 7.4 Wh ÷ 2 hrs = 3.7W average power budget.
      Rechargeable expectation: User charges overnight, expects 2-4 hours per charge (commute, short sessions).
    requirement: "Average power consumption ≤ 3.7W for 2-hour battery life with 18650 Li-ion (2500 mAh @ 3.7V)"
    risk_level: LOW
    customer_validation_needed: YES
    impact_if_wrong: "Battery life <1 hour unacceptable, but risk LOW because piezo (2.16W) fits comfortably within 3.7W budget (58% utilization)"
    test_plan: "v1.3.0 power budget analysis shows piezo fits with 1.54W margin (42% headroom)"
    priority: "P1-High"
    category: "Power"
    acceptance_criteria:
      - "Average power: ≤3.7W during typical reading"
      - "Battery life: ≥2 hours continuous reading (18650 Li-ion 2500 mAh)"
      - "Charging time: ≤3 hours (USB-C input, 1.5A charge rate)"
      - "Battery gauge: Display SOC % to user"
    verification_method: "Analysis (power budget), Test (battery discharge test, charge cycle validation)"
    derived_from: "18650 Li-ion capacity (2500 mAh @ 3.7V), typical commute duration"
    traces_to: "ARCH-A, charging circuit design"

  # --------------------------------------------------------------------------
  # USAGE PROFILE / READING SPEED REQUIREMENTS
  # --------------------------------------------------------------------------

  PRD-FUNC-005-ASMP:
    title: "Reading Speed and Actuation Rate"
    parent: "PRD-FUNC-002-ASMP"
    pdf_says: "Refresh speed: rapid enough for smooth reading"
    our_assumption: "Average braille reader reads at 125 words/min (750 characters/min), requiring 38 dots/sec average actuation rate during continuous scrolling"
    rationale: |
      Literature on braille reading speed (skilled adult readers):
      - Average: 125 words/min
      - Range: 90-170 words/min (varies by experience)
      - Average English word: 5 characters + 1 space = 6 characters
      - 125 words/min × 6 chars/word = 750 chars/min = 12.5 chars/sec
      - Scrolling mode: 50% of dots change per scroll (partial overlap, 16 cells stay, 16 cells update)
      - 32 cells display, user reads in 2.5 seconds, scrolls next line
      - 192 dots × 50% overlap = 96 dots change every 2.5 sec = 38 dots/sec
    requirement: "System must support continuous scrolling at 125 words/min (38 dots/sec actuation rate) for minimum 4 hours"
    risk_level: LOW
    customer_validation_needed: YES
    impact_if_wrong: "If reading speed assumption wrong (e.g., 50 words/min slow reader), power consumption could be lower (benefit). If 200 words/min speed reader, may need higher actuation rate."
    test_plan: "v1.3.0 power budget uses 38 dots/sec for active reading, 6.4 dots/sec for page turns, 0 dots/sec for idle (weighted avg = 24 dots/sec)"
    priority: "P2-Medium"
    category: "Functional"
    acceptance_criteria:
      - "Reading speed: 125 words/min (750 chars/min) typical user"
      - "Scrolling rate: 1 line every 2.5 seconds (38 dots/sec actuation)"
      - "Page turn: Full 32-cell refresh every 25-30 seconds (6.4 dots/sec average)"
    verification_method: "Test (user study with braille readers, measure actual reading speed and scrolling behavior)"
    derived_from: "Braille reading speed literature, typical English word length"
    traces_to: "Power budget, actuator selection, firmware refresh algorithms"

  PRD-FUNC-006-ASMP:
    title: "Typical Usage Profile (Duty Cycle)"
    parent: "PRD-FUNC-005-ASMP"
    pdf_says: "N/A (engineering assumption for power budget)"
    our_assumption: "Typical 8-hour reading session: 50% active reading (scrolling), 25% page turns (pauses), 25% idle (breaks)"
    rationale: |
      Realistic reading behavior includes:
      - Active reading: Continuous scrolling, high actuation rate (38 dots/sec)
      - Page turns: User pauses to absorb content, then turns page (6.4 dots/sec)
      - Idle: User takes breaks, thinks, device remains on but static (0 dots/sec)

      Conservative estimate: 50% active / 25% page / 25% idle
      → Weighted average: (50% × 38) + (25% × 6.4) + (25% × 0) = 24 dots/sec average

      This reduces power consumption vs worst-case continuous scrolling (38 dots/sec).
    requirement: "Power budget calculated based on weighted average: 24 dots/sec (50% active @ 38 dots/sec, 25% page @ 6.4 dots/sec, 25% idle @ 0 dots/sec)"
    risk_level: LOW
    customer_validation_needed: YES
    impact_if_wrong: "If users scroll more continuously (75% active), power consumption increases 30%. If more idle time (50% idle), battery life improves significantly."
    test_plan: "v1.3.0 power budget uses 24 dots/sec weighted average. v1.4.0 sensitivity analysis on duty cycle (best/worst case)."
    priority: "P2-Medium"
    category: "Functional"
    acceptance_criteria:
      - "Active reading: 50% of time (continuous scrolling)"
      - "Page turns: 25% of time (full refresh every 25-30 sec)"
      - "Idle: 25% of time (display static, no actuation)"
      - "Weighted average: 24 dots/sec actuation rate for power budget"
    verification_method: "Test (user study, log actual usage patterns over 8-hour reading sessions)"
    derived_from: "Typical reading behavior (pauses for comprehension, breaks)"
    traces_to: "Power budget (PRD-POWER-003/004/005-ASMP), battery life estimates"

# ============================================================================
# PRIORITY DEFINITIONS
# ============================================================================
priorities:
  P0-Critical:
    desc: "Must have - product fails without this"
    risk: "Project failure if not met"
  P1-High:
    desc: "Should have - significant value/risk"
    risk: "Major degradation if not met"
  P2-Medium:
    desc: "Nice to have - enhances product"
    risk: "Minor impact if deferred"
  P3-Low:
    desc: "Future enhancement"
    risk: "No immediate impact"

# ============================================================================
# TRACEABILITY MATRIX (auto-populated by /req-trace command)
# ============================================================================
# Each requirement traces to:
#   - Source document (PDF page/section)
#   - Design documents (v1.3.0 architecture options)
#   - Analysis documents (v1.4.0 trade-offs, v1.5.0 production plan)
#   - Presentation slides (v2.0.0)
